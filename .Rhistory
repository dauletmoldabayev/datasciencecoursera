source('~/Desktop/Rprog/pollutantmean.R')
mean1 <- pollutantmean(pollutant = "sulfate", id = 73:223)
pollutant <- "sulfate"
id = 73:223
print("Mean value for ", pollutant, " accross file ids ",
as.character(min(id)), ":" , as.character(max(id)),
" is computed!!!")
as.character(min(id))
print(paste(c("Mean value for ", pollutant, " accross file ids ",
as.character(min(id)), ":" , as.character(max(id)),
" is computed!!!"), collapse = ""))
mean1 <- pollutantmean(pollutant = "sulfate", id = 73:223)
source('~/Desktop/Rprog/pollutantmean.R')
mean1 <- pollutantmean(pollutant = "sulfate", id = 73:223)
mean1 <- pollutantmean(pollutant = "sulfate", id = 1:332)
mean1
source('~/Desktop/Rprog/pollutantmean.R')
mean1 <- pollutantmean(pollutant = "sulfate", id = 1:332)
source('~/Desktop/Rprog/pollutantmean.R')
mean1 <- pollutantmean(pollutant = "sulfate", id = 1:332)
mean1
idata <- read.csv("specdata/012.csv", nrows = 100)
idata
source('~/Desktop/Rprog/pollutantmean.R')
mean1 <- pollutantmean(pollutant = "sulfate", id = 1:10)
mean1
directory <- "specdata"
id <- 1:10
pollutant <- "sulfate"
source('~/Desktop/Rprog/pollutantmean.R')
source('~/Desktop/Rprog/pollutantmean.R')
source('~/Desktop/Rprog/pollutantmean.R')
namestrings <- function(id){
names <- vector( length(id), mode = "character" )
for(i in 1:length(id)){
if(id[i]<10){
names[i] <- paste( c( as.character( c(directory,
"/",0, 0,id[i], ".csv"))), collapse = "")
}
else if(id[i]>9 & id[i]<100){
names[i] <- paste( c( as.character( c(directory,
"/", 0, id[i], ".csv"))), collapse = "")
}
else{
names[i] <- paste( c( as.character( c(directory,
"/", id[i], ".csv"))), collapse = "")
}
}
names
}
pollutantvalues <- function( dummy_variable ){
filenames <- namestrings(id) # requested filenames
values <- c(0) # stores pollutant values
amount <- c(0)
# define which column is needed
prep <- read.csv(filenames[1], nrows = 2)
columns <- colnames(prep)
select <- rep("NULL", length(columns))
select[ columns == pollutant ] <- NA
for(name in filenames){ # loop through requested filenames
# read the needed column -- saves memory
mydata <- read.csv(name, colClasses = select)
# exclude 'NA' values from data
mydata <- mydata[!is.na(mydata)]
# collect data to final vector 'values'
values <- values + sum(mydata)
amount <- amount + length(mydata)
}
remove(filenames, prep, columns, select, mydata)
c(values,amount)
}
cleandata <- pollutantvalues()
cleandata["values"]/cleandata["amount"]
class(cleandata)
cleandata["values"]
pollutantvalues <- function( dummy_variable ){
filenames <- namestrings(id) # requested filenames
values <- c(0) # stores pollutant values
amount <- c(0)
# define which column is needed
prep <- read.csv(filenames[1], nrows = 2)
columns <- colnames(prep)
select <- rep("NULL", length(columns))
select[ columns == pollutant ] <- NA
for(name in filenames){ # loop through requested filenames
# read the needed column -- saves memory
mydata <- read.csv(name, colClasses = select)
# exclude 'NA' values from data
mydata <- mydata[!is.na(mydata)]
# collect data to final vector 'values'
values <- values + sum(mydata)
amount <- amount + length(mydata)
}
remove(filenames, prep, columns, select, mydata)
list(values,amount)
}
cleandata <- pollutantvalues()
cleandata
pollutantvalues <- function( dummy_variable ){
filenames <- namestrings(id) # requested filenames
values <- c(0) # stores pollutant values
amount <- c(0)
# define which column is needed
prep <- read.csv(filenames[1], nrows = 2)
columns <- colnames(prep)
select <- rep("NULL", length(columns))
select[ columns == pollutant ] <- NA
for(name in filenames){ # loop through requested filenames
# read the needed column -- saves memory
mydata <- read.csv(name, colClasses = select)
# exclude 'NA' values from data
mydata <- mydata[!is.na(mydata)]
# collect data to final vector 'values'
values <- values + sum(mydata)
amount <- amount + length(mydata)
}
remove(filenames, prep, columns, select, mydata)
c(values,amount)
}
source('~/Desktop/Rprog/pollutantmean.R')
cleandata <- pollutantvalues()
cleandata[1]/cleandata[2]
source('~/Desktop/Rprog/pollutantmean.R')
mean1 <- pollutantmean(pollutant = "sulfate", id = 1:10)
mean1
mean1 <- pollutantmean(pollutant = "nitrate", id = 70:72)
mmean1
mean1
mean1 <- pollutantmean(pollutant = "nitrate", id = 23)
mean1
mean1 <- pollutantmean(pollutant = "nitrate", id = 1:332)
mean1
mean1 <- pollutantmean(pollutant = "sulfate", id = 1:332)
mean1
